---
author: "Yiming Shen"
date: 2022-03-15
lastmod: 2022-03-15
title: "数据库系统系统导论笔记"
tags: [
   "SQL",
    "Note",
]
categories: [
    "Notes", 
"courses",
]
math: true
ShowToc: true
draft: false
typora-root-url: ..\..\..\static\。
---

## 2 关系运算符

$$
\sigma \quad 选择\\\\
\pi 投影\\\\
连接\\\\
除
$$

连接和除是复合运算

### 记号

$$
设关系模式为R(A_1,A_2,\cdots,An)\\\\
A_i A_i \cdots 为属性列\\\\
R(X,Z) \\\\
t[X]=x \quad Z_x = \{t[Z]|t\in R ,t[X]=Z\}
$$



#### 选择

在关系R 中选择满足给定条件的诸元组

F为选择条件 取值真或假

查询IS系全体学生：
$$
\sigma_{Sdept='IS'}(Student)
$$

#### 投影

从关系R中选择出若干属性列组成新的关系
$$
\pi_A(R)=\{t[A]|t\in R\}
$$
A为R中的属性列

> 投影操作主要是从列的角度进行运算

查询学生的姓名和所在系:
$$
\Pi _{Sname,Sdept}(Student)
$$
可以去重(如查询学生关系中全部系名)，**去掉了标识元组的主码**。

#### 连接

从两个关系的笛卡尔积中选取属性间满足一定条件的元组**(有条件的笛卡尔积运算)**
$$
R \bowtie S = \{\}
$$

##### 等值连接

##### 自然连接

> 两个关系比较的**分量是相同的属性组**，结果中把重复的属性列去掉

把相同的连一块

##### 区别

等值连接可比即可 自然连接必须相同

等值连接m+n列 自然连接u-b列

##### 悬浮元组

> 两个关系R和S在做自然连接时，关系R中某些元组有可能在S中**不存在公共属性上值相等的元组**，从而造成R中这些元组在操作时被舍弃了，这些被舍弃的元组被称为悬浮元组。

##### 外连接

> 如果把悬浮元组也保存在结果关系中，而在其他属性上填空值Null，就叫做外连接

左外连接

只保留左边关系R中的悬浮元组

#### 除运算

> 给定关系R（X，Y） S（Y，Z）其中X，Y，Z为属性组
>
> R中的Y和S中的Y可以有不同的属性名，但必须出自相同的域集



条件 元组在X上分量值x的象集Yx包含S在Y上投影的集合

记作
$$
R\div S = \{t_r[X]|t_r\in R \and \Pi_Y(S)\subseteq Y_x\}\\\\
Y_x为x在R中的象集,x = t_r[X]
$$

##### 查询至少选修1号课和3号课的学生号码



##### 基本运算导出

$$
R(X,Y)\quad S(Y,Z)\\\\
P(X,Y)=\Pi_X(R)\times \Pi_Y(S)\\\\
\Pi_x(R)-\Pi_x(P(X,Y)-R(X,Y))
$$

